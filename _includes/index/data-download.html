{% comment %}

    Collection data downloads.
    Based on the stubs present in the config-nav, displays relevant download btn links for metadata derivatives in a variety of formats. This highlights the ability to explore and reuse collection data.

    E.G. --> {% include index/data-download.html %}

    Options:

    - "heading_level" = customize the level of the heading if necessary for accessibility, choose "h1", "h2", "h3", etc (optional, default "h2")

{%- endcomment -%}
{%- assign stubs = site.data.config-nav | map: 'stub' | join: ';' -%}
<div class="my-4">
    <div>
        <{{ include.heading_level | default: 'h2' | strip }} id="collection-as-data">Collection as Data</{{ include.heading_level | default: 'h2' | strip }}>
        <p>Download this collection's metadata in a variety of reusable formats.</p>
        <p>
            <a class="btn btn-lg btn-primary m-1" href="{{ '/assets/data/metadata.csv' | relative_url }}" download>Metadata CSV</a>
            <a class="btn btn-lg btn-warning m-1" href="{{ '/assets/data/metadata.json' | relative_url }}" target="_blank">Metadata JSON</a>
            {% comment %}
            {% if stubs contains "subject" %}
            <a class="btn btn-lg btn-secondary m-1" href="{{ '/assets/data/subjects.csv' | relative_url }}" download>Subjects CSV</a>
            <a class="btn btn-lg btn-secondary m-1" href="{{ '/assets/data/subjects.json' | relative_url }}" target="_blank">Subjects JSON</a>
            {% endif %}
            {% endcomment %}
            {% if stubs contains "map" %}
            <a class="btn btn-lg btn-secondary m-1" href="{{ '/assets/data/geodata.json' | relative_url }}" target="_blank">Geodata JSON</a>
            {% endif %}
            {% if stubs contains "location" %}
            <a class="btn btn-lg btn-secondary m-1" href="{{ '/assets/data/locations.csv' | relative_url }}" download>Locations CSV</a>
            <a class="btn btn-lg btn-secondary m-1" href="{{ '/assets/data/locations.json' | relative_url }}" target="_blank">Locations JSON</a>
            {% endif %}
            {% if stubs contains "timeline" %}
            <a class="btn btn-lg btn-secondary m-1" href="{{ '/assets/data/timelinejs.json' | relative_url }}" target="_blank">Timeline JSON</a>
            {% endif %}
            {% if site.data.theme.metadata-facets-fields %}
            <a class="btn btn-lg btn-success m-1" href="{{ '/assets/data/facets.json' | relative_url }}" target="_blank">Facets JSON</a>
            {% endif %}
            <a class="btn btn-lg btn-danger m-1" href="{{ site.source-code }}" rel="noopener">Source Code</a>
        </p>
    </div>
</div>